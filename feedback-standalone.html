<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blu' Steakhouse - Customer Feedback</title>
  <meta name="description" content="Share your feedback with Blu' Steakhouse">
  <link rel="icon" href="https://imagedelivery.net/_YTjg6tu3dV3JnyQiIl6NQ/b3bc47be-de73-4925-ad42-10a1adb82200/public">
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Inter', Helvetica, Arial, sans-serif;
      background: #ffffff;
      color: #1a1a1a;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      line-height: 1.6;
    }

    .custom-wrap {
      max-width: 900px;
      margin: 0 auto;
      padding: 32px 24px;
    }

    .custom-card {
      background: #ffffff;
      border: 1px solid #e0e7ef;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 4px 20px rgba(13, 91, 166, 0.08), 0 1px 3px rgba(0, 0, 0, 0.03);
      transition: all 0.3s ease;
    }

    .custom-card:hover {
      box-shadow: 0 8px 30px rgba(13, 91, 166, 0.12), 0 2px 6px rgba(0, 0, 0, 0.05);
      transform: translateY(-2px);
    }

    header {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 16px;
      padding: 24px 0;
      margin-bottom: 32px;
      text-align: center;
    }

    .logo-container {
      width: 128px;
      height: 128px;
      border-radius: 16px;
      overflow: hidden;
      background: white;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      border: 2px solid #e0e7ef;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .logo-container img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      padding: 8px;
    }

    h1 {
      font-size: 32px;
      font-weight: 700;
      color: #0d5ba6;
      margin: 0;
      letter-spacing: -0.5px;
    }

    h2 {
      font-size: 32px;
      font-weight: 700;
      color: #1a1a1a;
      margin: 0 0 12px 0;
      line-height: 1.2;
    }

    .subtitle {
      color: #6b7280;
      font-size: 16px;
      margin: 8px 0 0 0;
    }

    .description {
      color: #6b7280;
      font-size: 18px;
      margin: 0 0 24px 0;
      line-height: 1.6;
    }

    .custom-btn {
      appearance: none;
      border: 2px solid #d1d9e6;
      background: #ffffff;
      color: #374151;
      padding: 14px 24px;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 600;
      font-size: 15px;
      transition: all 0.2s ease;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
    }

    .custom-btn:hover:not(:disabled) {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(13, 91, 166, 0.15);
      border-color: #0d5ba6;
      color: #0d5ba6;
    }

    .custom-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .custom-btn.primary {
      background: linear-gradient(135deg, #0d5ba6 0%, #1e73d6 100%);
      border: none;
      color: #ffffff;
      box-shadow: 0 4px 16px rgba(13, 91, 166, 0.25);
    }

    .custom-btn.primary:hover:not(:disabled) {
      box-shadow: 0 6px 20px rgba(13, 91, 166, 0.35);
      transform: translateY(-2px);
    }

    .custom-btn.bad {
      background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%);
      border: none;
      color: #ffffff;
      box-shadow: 0 4px 16px rgba(220, 38, 38, 0.25);
    }

    .custom-btn.bad:hover:not(:disabled) {
      box-shadow: 0 6px 20px rgba(220, 38, 38, 0.35);
      transform: translateY(-2px);
    }

    .custom-input {
      width: 100%;
      padding: 14px 16px;
      border-radius: 12px;
      border: 2px solid #d1d9e6;
      background: #ffffff;
      color: #1a1a1a;
      font-size: 15px;
      transition: all 0.2s ease;
      font-family: inherit;
    }

    .custom-input:focus {
      outline: none;
      border-color: #0d5ba6;
      box-shadow: 0 0 0 3px rgba(13, 91, 166, 0.1);
    }

    textarea.custom-input {
      resize: vertical;
      min-height: 120px;
      line-height: 1.6;
    }

    .rate-btn {
      flex: 1 1 130px;
      min-width: 130px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      background: #ffffff;
      border: 2px solid #e0e7ef;
      padding: 18px 16px;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.25s ease;
      color: #374151;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
    }

    .rate-btn:hover {
      transform: translateY(-3px);
      border-color: #0d5ba6;
      box-shadow: 0 6px 20px rgba(13, 91, 166, 0.15);
      background: #f8fafc;
    }

    .rate-btn:active {
      transform: translateY(-1px);
    }

    .rate-emoji {
      font-size: 36px;
      line-height: 1;
    }

    .rate-label {
      font-size: 14px;
      font-weight: 500;
      color: #6b7280;
    }

    .flex-gap {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }

    .grid-2col {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
    }

    @media (min-width: 768px) {
      .grid-2col {
        grid-template-columns: 1fr 1fr;
      }
    }

    .form-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      font-size: 14px;
      font-weight: 500;
      color: #6b7280;
      margin-bottom: 8px;
    }

    .col-span-2 {
      grid-column: span 1;
    }

    @media (min-width: 768px) {
      .col-span-2 {
        grid-column: span 2;
      }
    }

    .message {
      margin-top: 12px;
      font-size: 16px;
      font-weight: 500;
    }

    .message.success {
      color: #10b981;
    }

    .message.error {
      color: #dc2626;
    }

    .message.neutral {
      color: #6b7280;
    }

    .divider {
      margin-top: 24px;
      padding-top: 24px;
      border-top: 1px solid #e0e7ef;
    }

    .review-box {
      width: 100%;
      min-height: 180px;
      padding: 16px;
      border-radius: 12px;
      border: 2px solid #d1d9e6;
      background: #ffffff;
      color: #1a1a1a;
      resize: vertical;
      font-size: 16px;
      line-height: 1.6;
      font-family: inherit;
    }

    .review-box:focus {
      outline: none;
      border-color: #0d5ba6;
      box-shadow: 0 0 0 3px rgba(13, 91, 166, 0.1);
    }

    .tip {
      font-size: 16px;
      color: #6b7280;
      margin-top: 12px;
      line-height: 1.6;
    }

    .tip strong {
      color: #1a1a1a;
    }

    footer {
      text-align: center;
      padding: 32px;
      color: #6b7280;
      margin-top: 32px;
    }

    footer small {
      font-size: 14px;
    }

    .credit {
      margin-top: 8px;
      font-size: 12px;
      color: #9ca3af;
    }

    .brand-highlight {
      color: #0d5ba6;
    }

    .hidden {
      display: none !important;
    }

    .fadeIn {
      animation: fadeIn 0.5s ease-in;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @media (max-width: 768px) {
      .custom-wrap {
        padding: 24px 16px;
      }

      .custom-card {
        padding: 24px;
      }

      h1 {
        font-size: 24px;
      }

      h2 {
        font-size: 24px;
      }

      .rate-btn {
        min-width: 100px;
      }
    }
  </style>
</head>
<body>
  <div class="custom-wrap">
    <header>
      <div class="logo-container">
        <img src="https://imagedelivery.net/_YTjg6tu3dV3JnyQiIl6NQ/b3bc47be-de73-4925-ad42-10a1adb82200/public" alt="Blu' Steakhouse Logo">
      </div>
      <div>
        <h1>Blu' Steakhouse</h1>
        <p class="subtitle">Your feedback matters to us</p>
      </div>
    </header>

    <!-- Rating Step -->
    <section id="step-rating" class="custom-card fadeIn">
      <h2>How was your experience with <span class="brand-highlight">Blu' Steakhouse</span>?</h2>
      <p class="description">Choose the option that best matches your visit. This takes ~30 seconds.</p>
      <div class="flex-gap">
        <button class="rate-btn" onclick="handleRate(1)">
          <div class="rate-emoji">üòû</div>
          <div class="rate-label">Very poor</div>
        </button>
        <button class="rate-btn" onclick="handleRate(2)">
          <div class="rate-emoji">‚òπÔ∏è</div>
          <div class="rate-label">Poor</div>
        </button>
        <button class="rate-btn" onclick="handleRate(3)">
          <div class="rate-emoji">üòê</div>
          <div class="rate-label">Okay</div>
        </button>
        <button class="rate-btn" onclick="handleRate(4)">
          <div class="rate-emoji">üôÇ</div>
          <div class="rate-label">Good</div>
        </button>
        <button class="rate-btn" onclick="handleRate(5)">
          <div class="rate-emoji">ü§©</div>
          <div class="rate-label">Excellent</div>
        </button>
      </div>
    </section>

    <!-- Positive Step -->
    <section id="step-positive" class="custom-card fadeIn hidden">
      <h2>Awesome - Thank You! üåüüåüüåüüåüüåü</h2>

      <div id="positive-prompt">
        <p class="description">
          Would you mind posting a quick public review? It really helps small businesses like ours.<br>
          If you need help writing a review, you can use our AI tool to help you.
        </p>
        <div class="flex-gap">
          <button class="custom-btn primary" onclick="handleDirectPost()">Post Review on Google</button>
          <button class="custom-btn" onclick="showAiForm()">Generate AI Review</button>
        </div>
      </div>

      <div id="ai-form" class="hidden">
        <div class="grid-2col">
          <div>
            <label>Service you received</label>
            <input type="text" id="service-input" class="custom-input" placeholder="e.g., lock rekey, AC repair, deep cleaning" value="Public Adjusting for Residential">
          </div>
          <div>
            <label>Positive Points</label>
            <input type="text" id="timeframe-input" class="custom-input" placeholder="e.g., Price, Professionalism, Response Time">
          </div>
        </div>
        <div class="flex-gap" style="margin-top: 20px;">
          <button class="custom-btn primary" id="generate-btn" onclick="handleGenerate()">Generate Review</button>
        </div>
        <div id="gen-message" class="message hidden"></div>
      </div>

      <div id="review-wrap" class="hidden">
        <div>
          <label>Your review</label>
          <textarea id="review-box" class="review-box" placeholder="Your generated review will appear here‚Ä¶"></textarea>
        </div>
        <p class="tip">
          Tip: Click <strong>Copy Review Text</strong>, then on the Google page just <strong>paste</strong> and submit.
        </p>
        <div class="flex-gap" style="margin-top: 16px;">
          <button class="custom-btn" onclick="handleCopy()">Copy Review Text</button>
          <button class="custom-btn primary" onclick="handlePublish()">Publish On Google</button>
        </div>
      </div>

      <div class="divider">
        <button class="custom-btn" onclick="goBackToRating()">Go back</button>
      </div>
    </section>

    <!-- Negative Step -->
    <section id="step-negative" class="custom-card fadeIn hidden">
      <h2>We're listening üëÇ</h2>
      <p class="description">We're sorry it wasn't perfect. Please tell us what happened and we'll make it right.</p>

      <form 
        action="https://formspree.io/f/mvgldjyz" 
        method="POST" 
        enctype="multipart/form-data"
        class="grid-2col" 
        onsubmit="handleNegativeSubmit(event)"
      >
        <div>
          <label>Full name</label>
          <input type="text" name="name" class="custom-input" placeholder="Jane Doe" required>
        </div>
        <div>
          <label>Email</label>
          <input type="email" name="email" class="custom-input" placeholder="you@example.com" required>
        </div>
        <div>
          <label>Phone</label>
          <input type="tel" name="phone" class="custom-input" placeholder="(555) 555-5555">
        </div>
        <div>
          <label>Service date</label>
          <input type="date" name="service_date" class="custom-input">
        </div>
        <div class="col-span-2">
          <label>What can we improve?</label>
          <textarea name="feedback" class="custom-input" placeholder="Tell us what happened..." required></textarea>
        </div>
        <div class="col-span-2">
          <label>Attach a file (optional)</label>
          <input type="file" name="upload" class="custom-input">
        </div>
        <input type="hidden" name="rating" id="rating-value">
        <div class="col-span-2 flex-gap">
          <button class="custom-btn bad" type="submit">Send Feedback</button>
          <button class="custom-btn" type="button" onclick="goBackToRating()">Go back</button>
        </div>
      </form>
    </section>

    <!-- Thanks Step -->
    <section id="step-thanks" class="custom-card fadeIn hidden">
      <h2>Thanks for your feedback üíô</h2>
      <p class="description">We've received it. A team member may reach out if we need more details.</p>
      <div class="flex-gap">
        <button class="custom-btn primary" onclick="goBackToRating()">Submit another response</button>
      </div>
    </section>

    <footer>
      <small>¬© <span id="year"></span> Blu' Steakhouse. All rights reserved.</small>
      <div class="credit">
        <small>Built by Y12.AI</small>
      </div>
    </footer>
  </div>

  <script>
    // Configuration
    const GOOGLE_REVIEW_URL = 'https://www.google.com/maps/place/Blu%E2%80%99+Steakhouse/@26.0104112,-80.1476523,17z/data=!4m8!3m7!1s0x88d9abe065218f03:0x5800333675bb76b3!8m2!3d26.0104112!4d-80.1450774!9m1!1b1!16s%2Fg%2F11xgxh_ns3?authuser=1&entry=ttu&g_ep=EgoyMDI1MTEyMy4xIKXMDSoASAFQAw%3D%3D';
    const API_KEY = 'YOUR_XAI_API_KEY'; // Replace with your actual API key

    // Set current year
    document.getElementById('year').textContent = new Date().getFullYear();

    // State management
    let currentStep = 'rating';
    let currentRating = 0;

    function showStep(step) {
      // Hide all steps
      document.getElementById('step-rating').classList.add('hidden');
      document.getElementById('step-positive').classList.add('hidden');
      document.getElementById('step-negative').classList.add('hidden');
      document.getElementById('step-thanks').classList.add('hidden');

      // Show the current step
      document.getElementById('step-' + step).classList.remove('hidden');
      currentStep = step;

      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function handleRate(score) {
      currentRating = score;
      document.getElementById('rating-value').value = score;
      if (score >= 4) {
        showStep('positive');
      } else {
        showStep('negative');
      }
    }

    function showAiForm() {
      document.getElementById('positive-prompt').classList.add('hidden');
      document.getElementById('ai-form').classList.remove('hidden');
    }

    function handleDirectPost() {
      window.open(GOOGLE_REVIEW_URL, '_blank');
    }

    async function handleGenerate() {
      const service = document.getElementById('service-input').value;
      const timeframe = document.getElementById('timeframe-input').value;
      const generateBtn = document.getElementById('generate-btn');
      const messageEl = document.getElementById('gen-message');

      generateBtn.disabled = true;
      generateBtn.textContent = 'Generating‚Ä¶';
      messageEl.textContent = 'Creating a simple draft based on your details‚Ä¶';
      messageEl.className = 'message neutral';
      messageEl.classList.remove('hidden');

      try {
        // Call Grok API to generate review
        const response = await fetch('https://api.x.ai/v1/chat/completions', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${API_KEY}`
          },
          body: JSON.stringify({
            model: 'grok-beta',
            messages: [{
              role: 'user',
              content: `Write a friendly, authentic Google review for Blu' Steakhouse. Service received: ${service}. Positive points: ${timeframe}. Keep it under 100 words, natural tone, like a real customer would write. Don't use quotes or formatting.`
            }],
            temperature: 0.7
          })
        });

        const data = await response.json();

        if (data.choices && data.choices[0] && data.choices[0].message) {
          const reviewText = data.choices[0].message.content.trim();
          document.getElementById('review-box').value = reviewText;
          document.getElementById('ai-form').classList.add('hidden');
          document.getElementById('review-wrap').classList.remove('hidden');
          messageEl.textContent = 'Draft generated. Feel free to tweak it before publishing.';
          messageEl.className = 'message success';
        } else {
          throw new Error('Failed to generate review');
        }
      } catch (error) {
        console.error('Error generating review:', error);
        messageEl.textContent = 'Couldn\'t generate a draft. Please try again or write your own review.';
        messageEl.className = 'message error';
      } finally {
        generateBtn.disabled = false;
        generateBtn.textContent = 'Generate Review';
      }
    }

    async function handleCopy() {
      const reviewText = document.getElementById('review-box').value;
      const messageEl = document.getElementById('gen-message');

      if (!reviewText) {
        messageEl.textContent = 'Please write (or generate) your review first.';
        messageEl.className = 'message error';
        messageEl.classList.remove('hidden');
        return;
      }

      try {
        await navigator.clipboard.writeText(reviewText);
        messageEl.textContent = 'Copied to clipboard. Paste it on the Google page.';
        messageEl.className = 'message success';
        messageEl.classList.remove('hidden');
      } catch (error) {
        messageEl.textContent = 'Couldn\'t copy automatically. Please copy manually.';
        messageEl.className = 'message error';
        messageEl.classList.remove('hidden');
      }
    }

    function handlePublish() {
      window.open(GOOGLE_REVIEW_URL, '_blank');
    }

    function handleNegativeSubmit(event) {
      event.preventDefault();
      console.log('Negative feedback submitted');
      setTimeout(() => {
        showStep('thanks');
      }, 1000);
      return true;
    }

    function goBackToRating() {
      document.getElementById('positive-prompt').classList.remove('hidden');
      document.getElementById('ai-form').classList.add('hidden');
      document.getElementById('review-wrap').classList.add('hidden');
      document.getElementById('gen-message').classList.add('hidden');
      document.getElementById('review-box').value = '';
      document.getElementById('service-input').value = 'Public Adjusting for Residential';
      document.getElementById('timeframe-input').value = '';
      
      showStep('rating');
    }
  </script>
</body>
</html>
